(this.webpackJsonpfinancial_trax_client=this.webpackJsonpfinancial_trax_client||[]).push([[0],{72:function(e,t,n){},73:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(25),r=n.n(c),s=(n(72),n(50)),o=n(3),i=n(8),u=n(103),l=(n(73),n(53)),d=n(0);var j=function(e){var t=e.variant,n=e.heading,c=e.message,r=Object(a.useState)(!0),s=Object(o.a)(r,2),i=s[0],u=s[1],j=Object(a.useState)(null),b=Object(o.a)(j,2),h=b[0],m=b[1];return Object(a.useEffect)((function(){var e=setTimeout((function(){return u(!1)}),5e3);return m(e),function(){clearTimeout(h)}}),[]),Object(d.jsx)(l.a,{variant:t,onClose:function(){return u(!1)},dismissible:!0,show:i,children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(l.a.Heading,{children:n}),Object(d.jsx)("p",{className:"alert-body",children:c})]})})},b=n(66),h=n(41),m=n(65),O=n(11),p=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O.c,{to:"/change-password",className:"nav-link",children:"Change Password"}),Object(d.jsx)(O.c,{to:"/sign-out",className:"nav-link",children:"Sign Out"}),Object(d.jsx)(O.c,{to:"/accounts",className:"nav-link",children:"Accounts"})]}),f=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O.c,{to:"/sign-up",className:"nav-link",children:"Sign Up"}),Object(d.jsx)(O.c,{to:"/sign-in",className:"nav-link",children:"Sign In"})]}),x=Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(O.c,{to:"/",className:"nav-link",children:"Home"})}),v=function(e){var t=e.user;return Object(d.jsx)(h.a,{bg:"info",variant:"dark",expand:"md",children:Object(d.jsxs)(m.a,{children:[Object(d.jsx)(h.a.Brand,{children:Object(d.jsx)(O.b,{to:"/",style:{color:"#FFF",textDecoration:"none"},children:"$$ Financial Trax $$"})}),Object(d.jsx)(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(d.jsx)(h.a.Collapse,{id:"basic-navbar-nav",children:Object(d.jsxs)(b.a,{className:"ms-auto",children:[t&&Object(d.jsxs)("span",{className:"navbar-text me-2",children:["Welcome, ",t.email]}),x,t?p:f]})})]})})},g=n(7),w=n.n(g),y=n(10),k="https://dashboard.heroku.com/apps/financial-trax-api",S="http://localhost:8000",C="localhost"===window.location.hostname?S:k,A=n(13),N=n.n(A),F=function(e,t,n){return N.a.post(C+"/sign-up/",{credentials:{email:e,password:t,password_confirmation:n}})},_=function(e,t){return N.a.post(C+"/sign-in/",{credentials:{email:e,password:t}})},T=function(e){return N.a.delete(C+"/sign-out/",{headers:{Authorization:"Token ".concat(e.token)}})},I=function(e,t,n){return N.a.patch(C+"/change-pw/",{passwords:{old:e,new:t}},{headers:{Authorization:"Token ".concat(n.token)}})},P=n(12),L=n(34),E=function(e){var t=e.msgAlert,n=e.setUser,c=Object(a.useState)(""),r=Object(o.a)(c,2),s=r[0],u=r[1],l=Object(a.useState)(""),j=Object(o.a)(l,2),b=j[0],h=j[1],m=Object(a.useState)(""),O=Object(o.a)(m,2),p=O[0],f=O[1],x=Object(a.useState)(!1),v=Object(o.a)(x,2),g=v[0],k=v[1],S=function(){var e=Object(y.a)(w.a.mark((function e(a){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,F(s,b,p);case 4:return e.next=6,_(s,b);case 6:c=e.sent,n(c.data.user),t({heading:"Sign Up Success",message:"Succesfully registered! You've been signed in as well.",variant:"success"}),k(!0),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(1),u(""),h(""),f(""),t({heading:"Sign Up Failed with error: "+e.t0.message,message:"Registration failed. Email may be taken, or passwords don't match.",variant:"danger"});case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return g?Object(d.jsx)(i.a,{to:"/"}):Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(d.jsx)("h3",{children:"Sign Up"}),Object(d.jsxs)(P.a,{onSubmit:S,children:[Object(d.jsxs)(P.a.Group,{controlId:"email",children:[Object(d.jsx)(P.a.Label,{children:"Email address"}),Object(d.jsx)(P.a.Control,{required:!0,type:"email",name:"email",value:s,placeholder:"Enter email",onChange:function(e){return u(e.target.value)}})]}),Object(d.jsxs)(P.a.Group,{controlId:"password",children:[Object(d.jsx)(P.a.Label,{children:"Password"}),Object(d.jsx)(P.a.Control,{required:!0,name:"password",value:b,type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})]}),Object(d.jsxs)(P.a.Group,{controlId:"passwordConfirmation",children:[Object(d.jsx)(P.a.Label,{children:"Password Confirmation"}),Object(d.jsx)(P.a.Control,{required:!0,name:"passwordConfirmation",value:p,type:"password",placeholder:"Confirm Password",onChange:function(e){return f(e.target.value)}})]}),Object(d.jsx)(L.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})},z=function(e){var t=e.msgAlert,n=e.setUser,c=Object(a.useState)(""),r=Object(o.a)(c,2),s=r[0],u=r[1],l=Object(a.useState)(""),j=Object(o.a)(l,2),b=j[0],h=j[1],m=Object(a.useState)(!1),O=Object(o.a)(m,2),p=O[0],f=O[1],x=function(){var e=Object(y.a)(w.a.mark((function e(a){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,_(s,b);case 4:c=e.sent,n(c.data.user),localStorage.setItem("user",JSON.stringify(c.data.user)),t({heading:"Sign In Success",message:"Welcome!",variant:"success"}),f(!0),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),u(""),h(""),t({heading:"Sign In Failed with error: "+e.t0.message,message:"Failed to sign in. Check your email and password and try again.",variant:"danger"});case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return p?Object(d.jsx)(i.a,{to:"/"}):Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(d.jsx)("h3",{children:"Sign In"}),Object(d.jsxs)(P.a,{onSubmit:x,children:[Object(d.jsxs)(P.a.Group,{controlId:"email",children:[Object(d.jsx)(P.a.Label,{children:"Email address"}),Object(d.jsx)(P.a.Control,{required:!0,type:"email",name:"email",value:s,placeholder:"Enter email",onChange:function(e){return u(e.target.value)}})]}),Object(d.jsxs)(P.a.Group,{controlId:"password",children:[Object(d.jsx)(P.a.Label,{children:"Password"}),Object(d.jsx)(P.a.Control,{required:!0,name:"password",value:b,type:"password",placeholder:"Password",onChange:function(e){return h(e.target.value)}})]}),Object(d.jsx)(L.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})},G=function(e){var t=e.msgAlert,n=e.clearUser,c=e.user,r=Object(a.useState)(!1),s=Object(o.a)(r,2),u=s[0],l=s[1];return Object(a.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(c);case 2:t({heading:"Signed Out Successfully",message:"Come back soon!",variant:"success"}),n(),localStorage.clear(),l(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!c||u?Object(d.jsx)(i.a,{to:"/"}):""},U=function(e){var t=e.msgAlert,n=e.user,c=Object(a.useState)(""),r=Object(o.a)(c,2),s=r[0],u=r[1],l=Object(a.useState)(""),j=Object(o.a)(l,2),b=j[0],h=j[1],m=Object(a.useState)(!1),O=Object(o.a)(m,2),p=O[0],f=O[1],x=function(){var e=Object(y.a)(w.a.mark((function e(a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,I(s,b,n);case 4:t({heading:"Change Password Success",message:"Password changed successfully!",variant:"success"}),f(!0),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),u(""),h(""),t({heading:"Change Password Failed with error: "+e.t0.message,message:"Failed to change passwords. Check your old password and try again.",variant:"danger"});case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return!n||p?Object(d.jsx)(i.a,{to:"/"}):Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(d.jsx)("h3",{children:"Change Password"}),Object(d.jsxs)(P.a,{onSubmit:x,children:[Object(d.jsxs)(P.a.Group,{controlId:"oldPassword",children:[Object(d.jsx)(P.a.Label,{children:"Old password"}),Object(d.jsx)(P.a.Control,{required:!0,name:"oldPassword",value:s,type:"password",placeholder:"Old Password",onChange:function(e){return u(e.target.value)}})]}),Object(d.jsxs)(P.a.Group,{controlId:"newPassword",children:[Object(d.jsx)(P.a.Label,{children:"New Password"}),Object(d.jsx)(P.a.Control,{required:!0,name:"newPassword",value:b,type:"password",placeholder:"New Password",onChange:function(e){return h(e.target.value)}})]}),Object(d.jsx)(L.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})},D=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("h1",{children:"Welcome to Financial Trax"})})},R=n(102),q=function(e){return N.a.get(C+"/accounts/",{headers:{Authorization:"Token ".concat(e.token)}})},B=function(e,t){return N.a.get(C+"/accounts/".concat(t,"/"),{headers:{Authorization:"Token ".concat(e.token)}})},K=function(e,t){return N.a.post(C+"/accounts/",{account:t},{headers:{Authorization:"Token ".concat(e.token)}})},H=function(e,t,n){return N.a.patch(C+"/accounts/".concat(t,"/"),{account:n},{headers:{Authorization:"Token ".concat(e.token)}})},J=function(e,t){return N.a.delete(C+"/accounts/".concat(t,"/"),{headers:{Authorization:"Token ".concat(e.token)}})},$=function(e){var t=e.user,n=e.msgAlert;if(!t)return Object(d.jsx)(i.a,{to:"/"});var c,r=Object(a.useState)([]),s=Object(o.a)(r,2),u=s[0],l=s[1],j=Object(a.useState)(!1),b=Object(o.a)(j,2),h=b[0],m=b[1];Object(a.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t);case 3:a=e.sent,l(a.data.accounts),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n({heading:"Accounts List failed to load",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=function(){m(!0)};return u?h?Object(d.jsx)(i.a,{to:"/accounts/create"}):0===u.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"No accounts have been added"}),Object(d.jsx)(L.a,{variant:"success",onClick:p,children:"Create"})]}):(c=u.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsxs)(O.b,{to:"/accounts/".concat(e.id),children:[e.company," - ",e.type," - ",e.account_number]})},e.id)})),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(d.jsx)(L.a,{variant:"success",onClick:p,children:"Create"}),Object(d.jsx)("h3",{children:"Accounts"}),Object(d.jsx)("p",{children:"Company - Account Type - Account Number"}),Object(d.jsx)("ul",{children:c})]})})})):Object(d.jsx)(R.a,{animation:"border",role:"status",children:Object(d.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},W=n(2),Q=function(e){var t=e.handleSubmit,n=e.fund,a=e.setFund,c=e.fundInfo,r=e.setFundInfo;return Object(d.jsxs)(P.a,{onSubmit:t,children:[Object(d.jsxs)(P.a.Group,{controlId:"tickerSymbol",children:[Object(d.jsx)(P.a.Label,{children:"Ticker"}),Object(d.jsx)(P.a.Control,{placeholder:"Ticker Symbol",ticker_symbol:"ticker_symbol",value:n.ticker_symbol,onChange:function(e){return a((function(t){return Object(W.a)(Object(W.a)({},t),{},{ticker_symbol:e.target.value})}))}})]}),Object(d.jsxs)(P.a.Group,{controlId:"companyName",children:[Object(d.jsx)(P.a.Label,{children:"Company Name"}),Object(d.jsx)(P.a.Control,{placeholder:"Company Name",value:n.company_name,onChange:function(e){return a((function(t){return Object(W.a)(Object(W.a)({},t),{},{company_name:e.target.value})}))}})]}),Object(d.jsxs)(P.a.Group,{controlId:"price",children:[Object(d.jsx)(P.a.Label,{children:"Price"}),Object(d.jsx)(P.a.Control,{placeholder:"Price",price:"price",value:n.price,onChange:function(e){return a((function(t){return Object(W.a)(Object(W.a)({},t),{},{price:e.target.value})}))}})]}),Object(d.jsxs)(P.a.Group,{controlId:"amountOwned",children:[Object(d.jsx)(P.a.Label,{children:"Amount Owned"}),Object(d.jsx)(P.a.Control,{placeholder:"Amount Owned",value:c.amount_owned,onChange:function(e){return r((function(t){return Object(W.a)(Object(W.a)({},t),{},{amount_owned:e.target.value})}))}})]}),Object(d.jsx)(L.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})},V=function(e){return N.a.get(C+"/funds/",{headers:{Authorization:"Token ".concat(e.token)}})},Z=function(e,t){return N.a.get(C+"/funds/".concat(t,"/"),{headers:{Authorization:"Token ".concat(e.token)}})},Y=function(e,t,n){return N.a.post(C+"/funds/",{fund:t,account:n},{headers:{Authorization:"Token ".concat(e.token)}})},M=function(e,t,n){return N.a.patch(C+"/funds/".concat(t,"/"),{fund:n},{headers:{Authorization:"Token ".concat(e.token)}})},X=function(e,t){return N.a.delete(C+"/funds/".concat(t,"/"),{headers:{Authorization:"Token ".concat(e.token)}})},ee=function(e,t){return N.a.delete(C+"/fund-infos/".concat(t,"/"),{headers:{Authorization:"Token ".concat(e.token)}})},te=function(e){var t,n=e.user,c=e.msgAlert,r=Object(a.useState)({}),s=Object(o.a)(r,2),u=s[0],l=s[1],j=Object(a.useState)([]),b=Object(o.a)(j,2),h=b[0],m=b[1],p=Object(a.useState)(0),f=Object(o.a)(p,2),x=f[0],v=f[1],g=Object(a.useState)(!1),k=Object(o.a)(g,2),S=k[0],A=k[1],F=Object(a.useState)(""),_=Object(o.a)(F,2),T=_[0],I=_[1],P=Object(i.h)().id,E=Object(a.useState)({ticker_symbol:"",company_name:"",price:""}),z=Object(o.a)(E,2),G=z[0],U=z[1],D=Object(a.useState)({amount_owned:"",balance:0,account:0,fund:0}),q=Object(o.a)(D,2),K=q[0],H=q[1],$=Object(a.useState)(0),V=Object(o.a)($,2),Z=V[0],M=V[1];if(!n)return Object(d.jsx)(i.a,{to:"/"});Object(a.useEffect)((function(){new Promise((function(e,t){e(B(n,P)),console.log(t)})).then((function(e){return l(e.data.account),H((function(t){return Object(W.a)(Object(W.a)({},t),{},{account:e.data.account.id})})),e.data.account.id})).then((function(e){return function(e,t){return N.a.get(C+"/accounts/".concat(t,"/fund-infos/"),{headers:{Authorization:"Token ".concat(e.token)}})}(n,e)})).then((function(e){v(e.data.balance.balance__sum),m(e.data.fund_infos)})).catch((function(e){c({heading:"Fund Info Update Failed",message:e.message,variant:"danger"})}))}),[]);var X=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(n,P);case 3:A(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c({heading:"Failed to delete account",message:e.t0.message,variant:"danger"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return h&&(t=h.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsxs)(O.b,{to:"/fund-infos/".concat(e.id),children:[e.fund.company_name," - ",e.fund.ticker_symbol," - Price: ",e.fund.price," - Owned: ",e.amount_owned," - Balance: ",e.balance]})},e.id)}))),u?S?Object(d.jsx)(i.a,{to:"/accounts/"}):T?Object(d.jsx)(i.a,{to:"/fund-infos/".concat(T)}):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(d.jsx)(L.a,{variant:"danger",onClick:X,children:"Delete Account"}),Object(d.jsx)(O.b,{to:"/accounts/".concat(P,"/edit"),children:Object(d.jsx)(L.a,{variant:"primary",type:"submit",children:"Update Account"})}),Object(d.jsxs)("h1",{children:[u.company," ",u.type]}),Object(d.jsxs)("h3",{children:["Account Number: ",u.account_number]}),x&&Object(d.jsxs)("h3",{children:["Balance: ",x]}),Object(d.jsxs)("h3",{children:["Inception: ",u.inception]}),Object(d.jsx)("br",{}),h!==[]&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Funds"}),Object(d.jsx)("ul",{children:t})]})]}),Object(d.jsx)("div",{children:Object(d.jsx)(Q,{handleSubmit:function(e){e.preventDefault(),new Promise((function(e,t){try{e(Y(n,G,u.id))}catch(a){t(a)}})).then((function(e){var t=Object(W.a)(Object(W.a)({},K),{},{fund:e.data.fund.id,balance:e.data.fund.price*K.amount_owned});return H((function(e){return t})),t})).then((function(e){return function(e,t){return N.a.post(C+"/fund-infos/",{fund_info:t},{headers:{Authorization:"Token ".concat(e.token)}})}(n,e)})).then((function(e){I(e.data.fund_info.id),c({heading:"Fund Created",message:"Created ".concat(K.fund.company_name," successfully."),variant:"success"})})).catch((function(e){return console.error(e)}))},fund:G,setFund:U,amountOwned:Z,setAmountOwned:M,fundInfo:K,setFundInfo:H})})]})}):Object(d.jsx)(R.a,{animation:"border",role:"status",children:Object(d.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},ne=n(9),ae=function(e){var t=e.handleSubmit,n=e.account,a=e.handleAccountChange;return Object(d.jsxs)(P.a,{onSubmit:t,children:[Object(d.jsxs)(P.a.Group,{controlId:"type",children:[Object(d.jsx)(P.a.Label,{children:"Type"}),Object(d.jsx)(P.a.Control,{placeholder:"Account Type",name:"type",value:n.type,onChange:a})]}),Object(d.jsxs)(P.a.Group,{controlId:"accountnumber",children:[Object(d.jsx)(P.a.Label,{children:"Account Number"}),Object(d.jsx)(P.a.Control,{placeholder:"Account Number",name:"account_number",value:n.account_number,onChange:a})]}),Object(d.jsxs)(P.a.Group,{controlId:"company",children:[Object(d.jsx)(P.a.Label,{children:"Company"}),Object(d.jsx)(P.a.Control,{placeholder:"Account Company",name:"company",value:n.company,onChange:a})]}),Object(d.jsxs)(P.a.Group,{controlId:"inception",children:[Object(d.jsx)(P.a.Label,{children:"Inception"}),Object(d.jsx)(P.a.Control,{placeholder:"Account Inception",name:"inception",value:n.inception,onChange:a})]}),Object(d.jsx)(L.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})},ce=function(e){var t=e.user,n=e.msgAlert,c=Object(a.useState)({type:"",company:"",inception:"",account_number:""}),r=Object(o.a)(c,2),s=r[0],u=r[1],l=Object(a.useState)(""),j=Object(o.a)(l,2),b=j[0],h=j[1],m=function(){var e=Object(y.a)(w.a.mark((function e(a){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,K(t,s);case 4:c=e.sent,h(c.data.account.id),n({heading:"Account Created",message:"Created ".concat(s.type," successfully."),variant:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n({heading:"Failed to create account",message:e.t0.message,variant:"danger"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return t?b?Object(d.jsx)(i.a,{to:"/accounts/".concat(b)}):Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(d.jsx)("h3",{children:"Create Account"}),Object(d.jsx)(ae,{handleSubmit:m,handleAccountChange:function(e){var t=e.target;u((function(e){return Object(W.a)(Object(W.a)({},e),{},Object(ne.a)({},t.name,t.value))}))},account:s})]})}):Object(d.jsx)(i.a,{to:"/"})},re=function(e){var t=e.user,n=e.msgAlert,c=Object(a.useState)({type:"",company:"",inception:"",account_number:""}),r=Object(o.a)(c,2),s=r[0],u=r[1],l=Object(a.useState)(!1),j=Object(o.a)(l,2),b=j[0],h=j[1],m=Object(i.h)().id;if(!t)return Object(d.jsx)(i.a,{to:"/"});Object(a.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(t,m);case 3:a=e.sent,u(a.data.account),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n({heading:"Failed to load account",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var O=function(){var e=Object(y.a)(w.a.mark((function e(a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,H(t,m,s);case 4:h(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n({heading:"Failed to update account",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return b?Object(d.jsx)(i.a,{to:"/accounts/".concat(m)}):Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(d.jsx)("h3",{children:"Edit Account"}),Object(d.jsx)(ae,{handleSubmit:O,account:s,handleAccountChange:function(e){var t=e.target;u((function(e){return Object(W.a)(Object(W.a)({},e),{},Object(ne.a)({},t.name,t.value))}))}})]})})},se=function(e){var t=e.user,n=e.msgAlert;if(!t)return Object(d.jsx)(i.a,{to:"/"});var c=Object(a.useState)([]),r=Object(o.a)(c,2),s=r[0],u=r[1],l=Object(a.useState)(!1),j=Object(o.a)(l,2),b=j[0],h=j[1];Object(a.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(t);case 3:a=e.sent,u(a.data.funds),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n({heading:"Funds List failed to load",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var m;return s?0===s.length?Object(d.jsx)("h1",{children:"No funds have been added"}):b?Object(d.jsx)(i.a,{to:"/funds/create"}):(m=s.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsxs)(O.b,{to:"/funds/".concat(e.id),children:[e.company_name," - ",e.ticker_symbol," - ",e.price]})},e.id)})),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(d.jsx)(L.a,{variant:"success",onClick:function(){h(!0)},children:"Create"}),Object(d.jsx)("h3",{children:"Funds"}),Object(d.jsx)("p",{children:"Company - Ticker - Price"}),Object(d.jsx)("ul",{children:m})]})})})):Object(d.jsx)(R.a,{animation:"border",role:"status",children:Object(d.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},oe=function(e){var t=e.user,n=e.msgAlert,c=Object(a.useState)({}),r=Object(o.a)(c,2),s=r[0],u=r[1],l=Object(a.useState)(!1),j=Object(o.a)(l,2),b=j[0],h=j[1],m=Object(i.h)().id;if(!t)return Object(d.jsx)(i.a,{to:"/"});Object(a.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(t,m);case 3:a=e.sent,u(a.data.fund),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n({heading:"Fund failed to load",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(t,m);case 3:h(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n({heading:"Failed to delete fund",message:e.t0.message,variant:"danger"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return s?b?Object(d.jsx)(i.a,{to:"/funds/"}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(d.jsxs)("h1",{children:["Ticker: ",s.ticker_symbol]}),Object(d.jsxs)("h3",{children:["Name: ",s.company_name]}),Object(d.jsxs)("h3",{children:["Price: ",s.price]}),Object(d.jsx)(L.a,{variant:"danger",onClick:p,children:"Delete Fund"}),Object(d.jsx)(O.b,{to:"/funds/".concat(m,"/edit"),children:Object(d.jsx)(L.a,{variant:"primary",type:"submit",children:"Update Fund"})})]})})}):Object(d.jsx)(R.a,{animation:"border",role:"status",children:Object(d.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},ie=function(e){var t=e.user,n=e.msgAlert,c=Object(a.useState)({ticker_symbol:"",company_name:"",price:0}),r=Object(o.a)(c,2),s=r[0],u=r[1],l=Object(a.useState)(""),j=Object(o.a)(l,2),b=j[0],h=j[1],m=function(){var e=Object(y.a)(w.a.mark((function e(a){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,Y(t,s);case 4:c=e.sent,h(c.data.fund.id),n({heading:"Fund Created",message:"Created ".concat(s.type," successfully."),variant:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n({heading:"Failed to create fund",message:e.t0.message,variant:"danger"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return t?b?Object(d.jsx)(i.a,{to:"/funds/".concat(b)}):Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(d.jsx)("h3",{children:"Create Fund"}),Object(d.jsx)(Q,{handleSubmit:m,fund:s,setFund:u})]})}):Object(d.jsx)(i.a,{to:"/"})},ue=function(e){var t=e.user,n=e.msgAlert,c=Object(a.useState)({ticker_symbol:"",company_name:"",price:0}),r=Object(o.a)(c,2),s=r[0],u=r[1],l=Object(a.useState)(!1),j=Object(o.a)(l,2),b=j[0],h=j[1],m=Object(i.h)().id;if(!t)return Object(d.jsx)(i.a,{to:"/"});Object(a.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(t,m);case 3:a=e.sent,u(a.data.fund),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n({heading:"Failed to load fund",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var O=function(){var e=Object(y.a)(w.a.mark((function e(a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,M(t,m,s);case 4:h(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n({heading:"Failed to update fund",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return b?Object(d.jsx)(i.a,{to:"/funds/".concat(m)}):Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(d.jsx)("h3",{children:"Edit Fund"}),Object(d.jsx)(Q,{handleSubmit:O,fund:s,setFund:u})]})})},le=function(e){var t=e.user,n=e.msgAlert,c=Object(a.useState)(),r=Object(o.a)(c,2),s=r[0],u=r[1],l=Object(a.useState)(!1),j=Object(o.a)(l,2),b=j[0],h=j[1],m=Object(a.useState)({}),O=Object(o.a)(m,2),p=O[0],f=O[1],x=Object(i.h)().id;if(!t)return Object(d.jsx)(i.a,{to:"/"});Object(a.useEffect)((function(){new Promise((function(e,n){e(function(e,t){return N.a.get(C+"/fund-infos/".concat(t,"/"),{headers:{Authorization:"Token ".concat(e.token)}})}(t,x)),console.log(n)})).then((function(e){return u(e.data.fund_info),e.data.fund_info.fund.ticker_symbol})).then((function(e){return function(e){return N.a.get("https://api.polygon.io/v1/open-close/".concat(e,"/2022-03-10?adjusted=true&apiKey=L7KxVlsGiPCOHCRjeTRtRRKZU4yDRQvq"),{headers:{Authorization:"Bearer L7KxVlsGiPCOHCRjeTRtRRKZU4yDRQvq"}})}(e)})).then((function(e){return f(e.data),e.data.close})).then(function(){var e=Object(y.a)(w.a.mark((function e(n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t,s.fund.id,{price:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then().catch((function(e){n({heading:"Fund Info failed to load",message:e.message,variant:"danger"})}))}),[]);var v=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee(t,x);case 3:h(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n({heading:"Failed to delete fund",message:e.t0.message,variant:"danger"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return s?b?Object(d.jsx)(i.a,{to:"/accounts/".concat(s.account.id,"/")}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(d.jsxs)("h1",{children:["Ticker: ",s.fund.ticker_symbol]}),Object(d.jsxs)("h3",{children:["Name: ",s.fund.company_name]}),Object(d.jsxs)("h3",{children:["Price: ",s.fund.price]}),Object(d.jsxs)("h3",{children:["Amount Owned: ",s.amount_owned]}),Object(d.jsxs)("h3",{children:["Balance: ",s.balance]}),Object(d.jsx)(L.a,{variant:"danger",onClick:v,children:"Delete Fund"}),Object(d.jsx)("br",{}),Object(d.jsx)("h1",{children:"RealTime"}),Object(d.jsx)("br",{}),Object(d.jsxs)("h3",{children:["open:",p.open]}),Object(d.jsxs)("h3",{children:["high:",p.high]}),Object(d.jsxs)("h3",{children:["low:",p.low]}),Object(d.jsxs)("h3",{children:["close:",p.close]})]})})}):Object(d.jsx)(R.a,{animation:"border",role:"status",children:Object(d.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},de=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),l=Object(o.a)(r,2),b=l[0],h=l[1];Object(a.useEffect)((function(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);c(t)}}),[]);var m=function(e){var t=e.heading,n=e.message,a=e.variant,c=Object(u.a)();h((function(e){return[].concat(Object(s.a)(e),[{heading:t,message:n,variant:a,id:c}])}))};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(v,{user:n}),b.map((function(e){return Object(d.jsx)(j,{heading:e.heading,variant:e.variant,message:e.message,id:e.id},e.id)})),Object(d.jsx)("main",{className:"container",children:Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{path:"/",element:Object(d.jsx)(D,{})}),Object(d.jsx)(i.b,{path:"/sign-up/",element:Object(d.jsx)(E,{msgAlert:m,setUser:c})}),Object(d.jsx)(i.b,{path:"/sign-in/",element:Object(d.jsx)(z,{msgAlert:m,setUser:c})}),Object(d.jsx)(i.b,{path:"/sign-out/",element:Object(d.jsx)(G,{msgAlert:m,clearUser:function(){return c(null)},user:n})}),Object(d.jsx)(i.b,{path:"/change-password/",element:Object(d.jsx)(U,{msgAlert:m,user:n})}),Object(d.jsx)(i.b,{path:"/accounts/",element:Object(d.jsx)($,{msgAlert:m,user:n})}),Object(d.jsx)(i.b,{path:"/accounts/:id",element:Object(d.jsx)(te,{msgAlert:m,user:n})}),Object(d.jsx)(i.b,{path:"/accounts/create",element:Object(d.jsx)(ce,{msgAlert:m,user:n})}),Object(d.jsx)(i.b,{path:"/accounts/:id/edit",element:Object(d.jsx)(re,{msgAlert:m,user:n})}),Object(d.jsx)(i.b,{path:"/funds/",element:Object(d.jsx)(se,{msgAlert:m,user:n})}),Object(d.jsx)(i.b,{path:"/funds/:id",element:Object(d.jsx)(oe,{msgAlert:m,user:n})}),Object(d.jsx)(i.b,{path:"/funds/create",element:Object(d.jsx)(ie,{msgAlert:m,user:n})}),Object(d.jsx)(i.b,{path:"/funds/:id/edit",element:Object(d.jsx)(ue,{msgAlert:m,user:n})}),Object(d.jsx)(i.b,{path:"/fund-infos/:id",element:Object(d.jsx)(le,{msgAlert:m,user:n})})]})})]})},je=Object(d.jsx)(O.a,{basename:"/financial_trax_client",children:Object(d.jsx)(de,{})});r.a.render(je,document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.554d04fa.chunk.js.map